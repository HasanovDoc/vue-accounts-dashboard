(function(){"use strict";var e={6775:function(e,t,n){var o=n(5130),a=n(2261),u=n(5827),r=n(6768),l=n(144);n(4114),n(8111),n(2489);const s=(0,a.nY)("accounts",{state:()=>({accounts:[]}),actions:{addAccount(){this.accounts.push({id:c(),label:[],type:"Локальная",login:"",password:""})},deleteAccount(e){this.accounts=this.accounts.filter(t=>t.id!==e)},updateAccount(e){const t=this.accounts.findIndex(t=>t.id===e.id);-1!==t&&(this.accounts[t]=e)},clearAll(){this.accounts=[]}},persist:!0});function c(){return Math.random().toString(36).substring(2,9)}n(1701);var i=n(4232);const d={key:0,class:"form-header"},p={key:0,class:"header-password"},v={class:"row__item"},k={class:"row__item"},f={key:0,class:"row__item"},h={class:"password-wrapper"},b=["type"],w=["aria-label"],y={key:0,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},L={key:1,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},C={class:"row__item"};var m=(0,r.pM)({__name:"AccountForm",props:{account:{}},emits:["update","delete"],setup(e,{expose:t,emit:n}){const a=e,u=n,c=s(),m=(0,l.KR)(!1),_=(0,l.KR)(a.account.label?.map(e=>e.text).join(";")||""),g=(0,l.KR)({...a.account}),x=(0,l.KR)(null),A=(0,l.KR)(!1),E=()=>{const e=_.value.split(";").filter(e=>e.trim()).map(e=>({text:e}));u("update",{...g.value,label:e})},O=()=>{u("update",g.value)},M=()=>{m.value=!g.value.login||"Локальная"===g.value.type&&!g.value.password,m.value||u("update",g.value)},X=(0,r.EW)(()=>c.accounts.length>0&&c.accounts[0].id===a.account.id),R=()=>{x.value?.focus()};return t({focusFirstInput:R}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["account-form",{"has-error":m.value}])},[X.value?((0,r.uX)(),(0,r.CE)("div",d,[t[6]||(t[6]=(0,r.Lk)("span",{class:"header-label"},"Метки",-1)),t[7]||(t[7]=(0,r.Lk)("span",{class:"header-type"},"Тип",-1)),t[8]||(t[8]=(0,r.Lk)("span",{class:"header-login"},"Логин",-1)),"Локальная"===g.value.type?((0,r.uX)(),(0,r.CE)("span",p,"Пароль")):(0,r.Q3)("",!0),t[9]||(t[9]=(0,r.Lk)("span",{class:"header-action"},null,-1))])):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,i.C4)(["form-row",{"no-password":"Локальная"!==g.value.type}])},[(0,r.Lk)("div",v,[(0,r.bo)((0,r.Lk)("input",{ref_key:"firstInput",ref:x,"onUpdate:modelValue":t[0]||(t[0]=e=>_.value=e),placeholder:"Метка (через ';')",onBlur:E},null,544),[[o.Jo,_.value]])]),(0,r.Lk)("div",k,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.value.type=e),onChange:O},t[10]||(t[10]=[(0,r.Lk)("option",{value:"Локальная"},"Локальная",-1),(0,r.Lk)("option",{value:"LDAP"},"LDAP",-1)]),544),[[o.u1,g.value.type]])]),(0,r.Lk)("div",{class:(0,i.C4)(["row__item",{"no-password":"Локальная"!==g.value.type}])},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.value.login=e),placeholder:"Логин*",required:"",onBlur:M},null,544),[[o.Jo,g.value.login]])],2),"Локальная"===g.value.type?((0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{type:A.value?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>g.value.password=e),placeholder:"Пароль*",required:"",onBlur:M},null,40,b),[[o.hp,g.value.password]]),(0,r.Lk)("button",{type:"button",class:"eye-btn",onClick:t[4]||(t[4]=e=>A.value=!A.value),"aria-label":A.value?"Скрыть пароль":"Показать пароль",tabindex:"-1"},[A.value?((0,r.uX)(),(0,r.CE)("svg",y,t[11]||(t[11]=[(0,r.Lk)("path",{d:"M1.5 10C2.833 5.833 6.333 3.5 10 3.5C13.667 3.5 17.167 5.833 18.5 10C17.167 14.167 13.667 16.5 10 16.5C6.333 16.5 2.833 14.167 1.5 10Z",stroke:"#b0b0b0","stroke-width":"1.5"},null,-1),(0,r.Lk)("circle",{cx:"10",cy:"10",r:"3",stroke:"#b0b0b0","stroke-width":"1.5"},null,-1)]))):((0,r.uX)(),(0,r.CE)("svg",L,t[12]||(t[12]=[(0,r.Lk)("path",{d:"M1.5 10C2.833 5.833 6.333 3.5 10 3.5C13.667 3.5 17.167 5.833 18.5 10C17.167 14.167 13.667 16.5 10 16.5C6.333 16.5 2.833 14.167 1.5 10Z",stroke:"#b0b0b0","stroke-width":"1.5"},null,-1),(0,r.Lk)("circle",{cx:"10",cy:"10",r:"3",stroke:"#b0b0b0","stroke-width":"1.5"},null,-1),(0,r.Lk)("line",{x1:"5",y1:"15",x2:"15",y2:"5",stroke:"#b0b0b0","stroke-width":"1.5"},null,-1)])))],8,w)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",C,[(0,r.Lk)("button",{class:"delete-btn",onClick:t[5]||(t[5]=t=>e.$emit("delete")),title:"Удалить"},t[13]||(t[13]=[(0,r.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[(0,r.Lk)("path",{d:"M6 7V15C6 15.55 6.45 16 7 16H13C13.55 16 14 15.55 14 15V7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M4 7H16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M8 7V5C8 4.45 8.45 4 9 4H11C11.55 4 12 4.45 12 5V7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1)]))])],2)],2))}}),_=n(1241);const g=(0,_.A)(m,[["__scopeId","data-v-2c5e28ce"]]);var x=g;const A={class:"account-list-container"},E={class:"account-list"};var O=(0,r.pM)({__name:"AccountList",setup(e){const t=s(),{accounts:n}=(0,a.bP)(t),{addAccount:o,deleteAccount:u,updateAccount:c}=t,i=(0,l.KR)([]),d=async()=>{o(),await(0,r.dY)();const e=i.value[i.value.length-1];e?.focusFirstInput()};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",A,[(0,r.Lk)("div",{class:"account-title"},[t[0]||(t[0]=(0,r.Lk)("h1",null,"Учётные записи",-1)),(0,r.Lk)("button",{onClick:d,class:"add-btn"})]),t[1]||(t[1]=(0,r.Lk)("div",{class:"account-hint"},"Для указания нескольких меток для одной пары логин/пароль используйте разделитель ;",-1)),(0,r.Lk)("div",E,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(n),e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"list_item"},[(0,r.bF)(x,{ref_for:!0,ref_key:"accountForms",ref:i,account:e,onUpdate:(0,l.R1)(c),onDelete:t=>(0,l.R1)(u)(e.id)},null,8,["account","onUpdate","onDelete"])]))),128))])]))}});const M=(0,_.A)(O,[["__scopeId","data-v-379f6f4c"]]);var X=M,R=(0,r.pM)({__name:"App",setup(e){return(e,t)=>((0,r.uX)(),(0,r.Wv)(X))}});const V=R;var j=V;const F=(0,a.Ey)();F.use(u.A),(0,o.Ef)(j).use(F).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var u=t[o]={exports:{}};return e[o].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,u){if(!o){var r=1/0;for(i=0;i<e.length;i++){o=e[i][0],a=e[i][1],u=e[i][2];for(var l=!0,s=0;s<o.length;s++)(!1&u||r>=u)&&Object.keys(n.O).every(function(e){return n.O[e](o[s])})?o.splice(s--,1):(l=!1,u<r&&(r=u));if(l){e.splice(i--,1);var c=a();void 0!==c&&(t=c)}}return t}u=u||0;for(var i=e.length;i>0&&e[i-1][2]>u;i--)e[i]=e[i-1];e[i]=[o,a,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,u,r=o[0],l=o[1],s=o[2],c=0;if(r.some(function(t){return 0!==e[t]})){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var i=s(n)}for(t&&t(o);c<r.length;c++)u=r[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(i)},o=self["webpackChunkvue_accounts_dashboard"]=self["webpackChunkvue_accounts_dashboard"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],function(){return n(6775)});o=n.O(o)})();
//# sourceMappingURL=app.309c8e8f.js.map