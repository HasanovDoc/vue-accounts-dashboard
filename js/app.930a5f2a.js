(function(){"use strict";var e={8413:function(e,t,n){var o=n(5130),a=n(2261),u=n(5827),r=n(6768),c=n(144);n(4114),n(8111),n(2489);const s=(0,a.nY)("accounts",{state:()=>({accounts:[]}),actions:{addAccount(){this.accounts.push({id:l(),label:[],type:"Локальная",login:"",password:""})},deleteAccount(e){this.accounts=this.accounts.filter(t=>t.id!==e)},updateAccount(e){const t=this.accounts.findIndex(t=>t.id===e.id);-1!==t&&(this.accounts[t]=e)},clearAll(){this.accounts=[]}},persist:!0});function l(){return Math.random().toString(36).substring(2,9)}n(1701);var i=n(4232);const d={key:0,class:"form-header"},p={key:0,class:"header-password"},v={class:"row__item"},f={class:"row__item"},h={key:0,class:"row__item"},k={class:"row__item"};var b=(0,r.pM)({__name:"AccountForm",props:{account:{}},emits:["update","delete"],setup(e,{expose:t,emit:n}){const a=e,u=n,l=(0,c.KR)(!1),b=(0,c.KR)(a.account.label?.map(e=>e.text).join(";")||""),m=(0,c.KR)({...a.account}),_=(0,c.KR)(null),w=s(),L=()=>{const e=b.value.split(";").filter(e=>e.trim()).map(e=>({text:e}));u("update",{...m.value,label:e})},y=()=>{u("update",m.value)},C=()=>{l.value=!m.value.login||"Локальная"===m.value.type&&!m.value.password,l.value||u("update",m.value)},g=(0,r.EW)(()=>w.accounts.length>0&&w.accounts[0].id===a.account.id),A=()=>{_.value?.focus()};return t({focusFirstInput:A}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["account-form",{"has-error":l.value}])},[g.value?((0,r.uX)(),(0,r.CE)("div",d,[t[5]||(t[5]=(0,r.Lk)("span",{class:"header-label"},"Метки",-1)),t[6]||(t[6]=(0,r.Lk)("span",{class:"header-type"},"Тип",-1)),t[7]||(t[7]=(0,r.Lk)("span",{class:"header-login"},"Логин",-1)),"Локальная"===m.value.type?((0,r.uX)(),(0,r.CE)("span",p,"Пароль")):(0,r.Q3)("",!0),t[8]||(t[8]=(0,r.Lk)("span",{class:"header-action"},null,-1))])):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,i.C4)(["form-row",{"no-password":"Локальная"!==m.value.type}])},[(0,r.Lk)("div",v,[(0,r.bo)((0,r.Lk)("input",{ref_key:"firstInput",ref:_,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),placeholder:"Метка (через ';')",onBlur:L},null,544),[[o.Jo,b.value]])]),(0,r.Lk)("div",f,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>m.value.type=e),onChange:y},t[9]||(t[9]=[(0,r.Lk)("option",{value:"Локальная"},"Локальная",-1),(0,r.Lk)("option",{value:"LDAP"},"LDAP",-1)]),544),[[o.u1,m.value.type]])]),(0,r.Lk)("div",{class:(0,i.C4)(["row__item",{"no-password":"Локальная"!==m.value.type}])},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>m.value.login=e),placeholder:"Логин*",required:"",onBlur:C},null,544),[[o.Jo,m.value.login]])],2),"Локальная"===m.value.type?((0,r.uX)(),(0,r.CE)("div",h,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>m.value.password=e),type:"password",placeholder:"Пароль*",required:"",onBlur:C},null,544),[[o.Jo,m.value.password]])])):(0,r.Q3)("",!0),(0,r.Lk)("div",k,[(0,r.Lk)("button",{class:"delete-btn",onClick:t[4]||(t[4]=t=>e.$emit("delete")),title:"Удалить"},t[10]||(t[10]=[(0,r.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[(0,r.Lk)("path",{d:"M6 7V15C6 15.55 6.45 16 7 16H13C13.55 16 14 15.55 14 15V7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M4 7H16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),(0,r.Lk)("path",{d:"M8 7V5C8 4.45 8.45 4 9 4H11C11.55 4 12 4.45 12 5V7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})],-1)]))])],2)],2))}}),m=n(1241);const _=(0,m.A)(b,[["__scopeId","data-v-549f8a94"]]);var w=_;const L={class:"account-list-container"},y={class:"account-list"};var C=(0,r.pM)({__name:"AccountList",setup(e){const t=s(),{accounts:n}=(0,a.bP)(t),{addAccount:o,deleteAccount:u,updateAccount:l}=t,i=(0,c.KR)([]),d=async()=>{o(),await(0,r.dY)();const e=i.value[i.value.length-1];e?.focusFirstInput()};return(e,t)=>((0,r.uX)(),(0,r.CE)("div",L,[(0,r.Lk)("div",{class:"account-title"},[t[0]||(t[0]=(0,r.Lk)("h1",null,"Учётные записи",-1)),(0,r.Lk)("button",{onClick:d,class:"add-btn"})]),t[1]||(t[1]=(0,r.Lk)("div",{class:"account-hint"},"Для указания нескольких меток для одной пары логин/пароль используйте разделитель ;",-1)),(0,r.Lk)("div",y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,c.R1)(n),e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"list_item"},[(0,r.bF)(w,{ref_for:!0,ref_key:"accountForms",ref:i,account:e,onUpdate:(0,c.R1)(l),onDelete:t=>(0,c.R1)(u)(e.id)},null,8,["account","onUpdate","onDelete"])]))),128))])]))}});const g=(0,m.A)(C,[["__scopeId","data-v-379f6f4c"]]);var A=g,E=(0,r.pM)({__name:"App",setup(e){return(e,t)=>((0,r.uX)(),(0,r.Wv)(A))}});const O=E;var x=O;const M=(0,a.Ey)();M.use(u.A),(0,o.Ef)(x).use(M).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var u=t[o]={exports:{}};return e[o].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,u){if(!o){var r=1/0;for(i=0;i<e.length;i++){o=e[i][0],a=e[i][1],u=e[i][2];for(var c=!0,s=0;s<o.length;s++)(!1&u||r>=u)&&Object.keys(n.O).every(function(e){return n.O[e](o[s])})?o.splice(s--,1):(c=!1,u<r&&(r=u));if(c){e.splice(i--,1);var l=a();void 0!==l&&(t=l)}}return t}u=u||0;for(var i=e.length;i>0&&e[i-1][2]>u;i--)e[i]=e[i-1];e[i]=[o,a,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,u,r=o[0],c=o[1],s=o[2],l=0;if(r.some(function(t){return 0!==e[t]})){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(s)var i=s(n)}for(t&&t(o);l<r.length;l++)u=r[l],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(i)},o=self["webpackChunkvue_accounts_dashboard"]=self["webpackChunkvue_accounts_dashboard"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],function(){return n(8413)});o=n.O(o)})();
//# sourceMappingURL=app.930a5f2a.js.map